extends ../layouts/user-main-layout.pug

block styles
  link(rel="stylesheet", href="/styles/user/cart.css")

block content
  h1.text_center Cart
  .products__list
    if entries && entries.length > 0
      each entry in entries 
        article(class="card product-item")
          header.card__header
            h1.product__title= entry.title
          .card__image
            img( src= entry.imageUrl , alt= entry.title, srcset="")
          .card__content
            h2.product__price #{entry.price}$
            p.product__quantity x#{entry.cartitem.quantity}
          .card__actions
            form(action="/user/add-cart", method="post")
              input(type="hidden", name="id",value=entry._id,id="productId")
              button(type="submit").btn Add one more
            form(action="/user/remove-from-cart", method="post")
              input(type="hidden", name="id",value=entry._id)
              button.btn(type="submit") Remove one from cart
            form(action="/user/remove-all-from-cart", method="post")
              input(type="hidden", name="id",value=entry._id)
              button(type="submit").btn Remove all from cart
    else
      p.text_center: b No cart items yet
  .checkout__container
    p.price Total price #{price}
    form(action="/user/order", method="post")
      if entries.length > 0
        button(type="submit").checkout__btn.btn Checkout
      else
        span(title="Add some products to your cart first")
          button(type="submit",disabled).checkout__btn.disabled__btn Checkout

block scripts
  script(src="/js/user/cart.js")
